/* Glassmorphism utilities */

/* Base glass effect */
.glass {
	background: rgba(var(--color-white-rgb), var(--glass-surface-opacity));
	-webkit-backdrop-filter: blur(var(--glass-blur-amount));
	backdrop-filter: blur(var(--glass-blur-amount));
	border: var(--border-width-thin) solid
		rgba(var(--color-white-rgb), var(--glass-border-opacity));
	box-shadow: 0 8px 32px 0 rgba(var(--glass-shadow-color), var(--glass-shadow-strength));
}

/* Glass variants with different opacity levels */
.glass-light {
	background: rgba(var(--color-white-rgb), var(--opacity-very-low));
	-webkit-backdrop-filter: blur(var(--glass-blur-amount));
	backdrop-filter: blur(var(--glass-blur-amount));
	border: var(--border-width-thin) solid rgba(var(--color-white-rgb), var(--opacity-low));
	box-shadow: var(--shadow);
}

.glass-medium {
	background: rgba(var(--color-white-rgb), var(--glass-surface-opacity-hover));
	-webkit-backdrop-filter: blur(var(--glass-blur-fallback));
	backdrop-filter: blur(var(--glass-blur-fallback));
	border: var(--border-width-thin) solid rgba(var(--color-white-rgb), var(--opacity-medium));
	box-shadow: var(--shadow-md);
}

.glass-heavy {
	background: rgba(var(--color-white-rgb), var(--opacity-medium-high));
	-webkit-backdrop-filter: blur(14px);
	backdrop-filter: blur(14px);
	border: var(--border-width-thin) solid
		rgba(var(--color-white-rgb), var(--glass-border-opacity-hover));
	box-shadow: var(--shadow-lg);
}

/* Colored glass effects */
.glass-primary {
	background: rgba(var(--color-interactive-rgb), var(--glass-surface-opacity));
	-webkit-backdrop-filter: blur(var(--glass-blur-amount));
	backdrop-filter: blur(var(--glass-blur-amount));
	border: var(--border-width-thin) solid
		rgba(var(--color-interactive-rgb), var(--glass-border-opacity));
	box-shadow: 0 8px 32px 0 rgba(var(--color-interactive-rgb), var(--opacity-medium));
}

.glass-accent {
	background: rgba(var(--color-accent-rgb), var(--glass-surface-opacity));
	-webkit-backdrop-filter: blur(var(--glass-blur-amount));
	backdrop-filter: blur(var(--glass-blur-amount));
	border: var(--border-width-thin) solid
		rgba(var(--color-accent-rgb), var(--glass-border-opacity));
	box-shadow: 0 8px 32px 0 rgba(var(--color-accent-rgb), var(--opacity-medium));
}

.glass-highlight {
	background: rgba(var(--color-highlight-rgb), var(--glass-surface-opacity));
	-webkit-backdrop-filter: blur(var(--glass-blur-amount));
	backdrop-filter: blur(var(--glass-blur-amount));
	border: var(--border-width-thin) solid
		rgba(var(--color-highlight-rgb), var(--glass-border-opacity));
	box-shadow: 0 8px 32px 0 rgba(var(--color-highlight-rgb), var(--opacity-medium));
}

.glass-success {
	background: rgba(var(--color-positive-rgb), var(--glass-surface-opacity));
	-webkit-backdrop-filter: blur(var(--glass-blur-amount));
	backdrop-filter: blur(var(--glass-blur-amount));
	border: var(--border-width-thin) solid
		rgba(var(--color-positive-rgb), var(--glass-border-opacity));
	box-shadow: 0 8px 32px 0 rgba(var(--color-positive-rgb), var(--opacity-medium));
}

/* Dark theme glass effects */
:global(html.dark) .glass {
	background: rgba(var(--color-black-rgb), var(--glass-surface-opacity-inverse));
	border: var(--border-width-thin) solid rgba(var(--color-white-rgb), var(--glass-border-opacity-inverse));
	box-shadow: 0 8px 32px 0 rgba(var(--glass-shadow-color), var(--glass-shadow-strength));
}

:global(html.dark) .glass-light {
	background: rgba(var(--color-black-rgb), var(--opacity-very-low));
	border: var(--border-width-thin) solid rgba(var(--color-white-rgb), var(--opacity-very-low));
}

:global(html.dark) .glass-medium {
	background: rgba(var(--color-black-rgb), var(--glass-surface-opacity-inverse));
	border: var(--border-width-thin) solid rgba(var(--color-white-rgb), var(--glass-border-opacity-inverse));
}

:global(html.dark) .glass-heavy {
	background: rgba(var(--color-black-rgb), var(--glass-surface-opacity-inverse-hover));
	border: var(--border-width-thin) solid
		rgba(var(--color-white-rgb), var(--glass-border-opacity-inverse-hover));
}

/* Colored glass effects - Dark mode */
:global(html.dark) .glass-primary {
	background: rgba(var(--color-interactive-rgb), var(--opacity-medium));
	border: var(--border-width-thin) solid rgba(var(--color-interactive-rgb), var(--opacity-medium-high));
}

:global(html.dark) .glass-accent {
	background: rgba(var(--color-accent-rgb), var(--opacity-medium));
	border: var(--border-width-thin) solid rgba(var(--color-accent-rgb), var(--opacity-medium-high));
}

:global(html.dark) .glass-highlight {
	background: rgba(var(--color-highlight-rgb), var(--opacity-medium));
	border: var(--border-width-thin) solid
		rgba(var(--color-highlight-rgb), var(--opacity-medium-high));
}

:global(html.dark) .glass-success {
	background: rgba(var(--color-positive-rgb), var(--opacity-medium));
	border: var(--border-width-thin) solid rgba(var(--color-positive-rgb), var(--opacity-medium-high));
}

/* Glass morphism with specific blur levels */
.glass-blur-sm {
	-webkit-backdrop-filter: blur(6px);
	backdrop-filter: blur(6px);
}

.glass-blur-md {
	-webkit-backdrop-filter: blur(var(--glass-blur-amount));
	backdrop-filter: blur(var(--glass-blur-amount));
}

.glass-blur-lg {
	-webkit-backdrop-filter: blur(var(--glass-blur-fallback));
	backdrop-filter: blur(var(--glass-blur-fallback));
}

.glass-blur-xl {
	-webkit-backdrop-filter: blur(16px);
	backdrop-filter: blur(16px);
}

.glass-blur-2xl {
	-webkit-backdrop-filter: blur(20px);
	backdrop-filter: blur(20px);
}

/* Glass morphism for specific components */
.glass-card {
	background: rgba(var(--color-white-rgb), var(--glass-surface-opacity));
	-webkit-backdrop-filter: blur(var(--glass-blur-amount));
	backdrop-filter: blur(var(--glass-blur-amount));
	border: var(--border-width-thin) solid
		rgba(var(--color-white-rgb), var(--glass-border-opacity));
	border-radius: var(--border-radius-lg);
	box-shadow:
		0 8px 32px 0 rgba(var(--glass-shadow-color), var(--glass-shadow-strength)),
		inset 0 1px 0 rgba(var(--color-white-rgb), var(--glass-inset-opacity));
	transition: all var(--anim-duration-base) var(--anim-ease-base);
}

.glass-card:hover {
	background: rgba(var(--color-white-rgb), var(--glass-surface-opacity-hover));
	border-color: rgba(var(--color-white-rgb), var(--glass-border-opacity-hover));
	transform: var(--glass-translate-hover);
	box-shadow:
		0 12px 40px 0 rgba(var(--glass-shadow-color), var(--glass-shadow-strength-hover)),
		inset 0 1px 0 rgba(var(--color-white-rgb), var(--glass-inset-opacity-hover));
}

.glass-panel {
	background: rgba(var(--color-white-rgb), var(--opacity-low));
	-webkit-backdrop-filter: blur(var(--glass-blur-fallback));
	backdrop-filter: blur(var(--glass-blur-fallback));
	border: var(--border-width-thin) solid
		rgba(var(--color-white-rgb), var(--glass-border-opacity));
	border-radius: var(--border-radius-xl);
	box-shadow:
		var(--shadow-lg),
		inset 0 1px 0 rgba(var(--color-white-rgb), var(--glass-inset-opacity));
}

.glass-panel-light {
	background: rgba(var(--color-white-rgb), var(--opacity-very-low));
	-webkit-backdrop-filter: blur(var(--glass-blur-amount));
	backdrop-filter: blur(var(--glass-blur-amount));
	border: var(--border-width-thin) solid
		rgba(var(--color-white-rgb), var(--glass-surface-opacity));
	border-radius: var(--border-radius-lg);
	box-shadow:
		var(--shadow-md),
		inset 0 1px 0 rgba(var(--color-white-rgb), var(--glass-surface-opacity-hover));
}

.glass-nav {
	background: rgba(var(--color-white-rgb), var(--glass-opacity-fallback-light));
	-webkit-backdrop-filter: blur(14px) saturate(150%);
	backdrop-filter: blur(14px) saturate(150%);
	border-bottom: var(--border-width-thin) solid
		rgba(var(--color-white-rgb), var(--glass-border-opacity));
	box-shadow: var(--shadow-md);
}

.glass-button {
	background: rgba(var(--color-white-rgb), var(--glass-surface-opacity)) !important;
	-webkit-backdrop-filter: blur(var(--glass-blur-amount)) !important;
	backdrop-filter: blur(var(--glass-blur-amount)) !important;
	border: var(--border-width-thin) solid
		rgba(var(--color-white-rgb), var(--glass-border-opacity)) !important;
	border-radius: var(--border-radius-md) !important;
	box-shadow: var(--shadow) !important;
	transition: all var(--anim-duration-fast) var(--anim-ease-out) !important;
}

.glass-button:hover {
	background: rgba(var(--color-white-rgb), var(--glass-surface-opacity-hover)) !important;
	border-color: rgba(var(--color-white-rgb), var(--glass-border-opacity-hover)) !important;
	box-shadow: var(--shadow-md) !important;
	transform: var(--transform-lift-sm) !important;
}

.glass-button:active {
	transform: var(--btn-active-transform) !important;
	box-shadow: var(--shadow-sm) !important;
}

/* Glass button with primary variant - better contrast */
.btn-outline-primary.glass-button {
	color: var(--color-interactive) !important;
	background: rgba(var(--color-interactive-rgb), var(--opacity-very-low)) !important;
	border: var(--border-width-thin) solid
		rgba(var(--color-interactive-rgb), var(--glass-border-opacity-hover)) !important;
}

.btn-outline-primary.glass-button:hover {
        color: var(--color-interactive-on) !important;
        background: var(--color-interactive) !important;
        border-color: var(--color-interactive) !important;
        box-shadow: 0 6px 20px 0 rgba(var(--color-interactive-rgb), var(--opacity-medium-high)) !important;
}

/* Glass button with secondary variant - improved contrast with glassmorphism */
.btn-outline-secondary.glass-button {
	color: var(--color-text-emphasis) !important;
	background: rgba(var(--color-accent-rgb), var(--opacity-very-low)) !important;
	-webkit-backdrop-filter: blur(var(--glass-blur-amount)) !important;
	backdrop-filter: blur(var(--glass-blur-amount)) !important;
	border: var(--border-width-thin) solid
		rgba(var(--color-accent-rgb), var(--glass-border-opacity)) !important;
	box-shadow: var(--shadow) !important;
}

.btn-outline-secondary.glass-button:hover {
        color: var(--color-interactive-on) !important;
        background: var(--color-accent) !important;
        border-color: var(--color-accent) !important;
        box-shadow: 0 6px 20px 0 rgba(var(--color-accent-rgb), var(--opacity-medium-high)) !important;
}

/* Glass button with primary solid variant */
.btn-primary.glass-button {
        color: var(--color-interactive-on) !important;
        background: var(--color-interactive) !important;
        border: var(--border-width-thin) solid var(--color-interactive) !important;
        box-shadow: 0 4px 16px 0 rgba(var(--color-interactive-rgb), var(--opacity-medium-high)) !important;
        -webkit-backdrop-filter: none !important;
        backdrop-filter: none !important;
}

.btn-primary.glass-button:hover {
	background: var(--color-interactive-hover) !important;
	border-color: var(--color-interactive-hover) !important;
	box-shadow: 0 6px 20px 0 rgba(var(--color-interactive-rgb), var(--opacity-high)) !important;
}

/* Dark theme overrides for components */
:global(html.dark) .glass-card {
	background: rgba(var(--color-dark-surface-rgb), var(--glass-surface-opacity-inverse));
	border: var(--border-width-thin) solid rgba(var(--color-white-rgb), var(--glass-border-opacity-inverse));
	box-shadow:
		0 8px 32px 0 rgba(0, 0, 0, var(--glass-shadow-strength)),
		inset 0 1px 0 rgba(var(--color-white-rgb), var(--glass-inset-opacity-inverse));
}

:global(html.dark) .glass-card:hover {
	background: rgba(var(--color-dark-surface-rgb), var(--glass-surface-opacity-inverse-hover));
	border-color: rgba(var(--color-white-rgb), var(--glass-border-opacity-inverse-hover));
	box-shadow:
		0 12px 40px 0 rgba(0, 0, 0, var(--glass-shadow-strength-hover)),
		inset 0 1px 0 rgba(var(--color-white-rgb), var(--glass-inset-opacity-inverse-hover));
}

:global(html.dark) .glass-panel {
	background: rgba(var(--color-dark-surface-rgb), var(--glass-surface-opacity-inverse));
	border: var(--border-width-thin) solid rgba(var(--color-white-rgb), var(--glass-border-opacity-inverse));
	box-shadow:
		var(--shadow-lg),
		inset 0 1px 0 rgba(var(--color-white-rgb), var(--glass-inset-opacity-inverse));
}

:global(html.dark) .glass-panel-light {
	background: rgba(var(--color-dark-surface-rgb), var(--opacity-low));
	border: var(--border-width-thin) solid rgba(var(--color-white-rgb), var(--opacity-very-low));
	box-shadow:
		var(--shadow-md),
		inset 0 1px 0 rgba(var(--color-white-rgb), var(--opacity-very-low));
}

:global(html.dark) .glass-nav {
	background: rgba(var(--color-dark-surface-alt-rgb), var(--glass-opacity-fallback-dark));
	border-bottom: var(--border-width-thin) solid
		rgba(var(--color-white-rgb), var(--glass-border-opacity-inverse));
}

:global(html.dark) .glass-button {
	background: rgba(var(--color-dark-surface-rgb), var(--glass-surface-opacity-inverse)) !important;
	border: var(--border-width-thin) solid rgba(var(--color-white-rgb), var(--glass-border-opacity-inverse)) !important;
}

:global(html.dark) .glass-button:hover {
	background: rgba(var(--color-dark-surface-rgb), var(--glass-surface-opacity-inverse-hover)) !important;
	border-color: rgba(var(--color-white-rgb), var(--glass-border-opacity-inverse-hover)) !important;
}

/* Dark mode glass button variants */
:global(html.dark) .btn-outline-primary.glass-button {
	color: var(--color-interactive) !important;
	background: rgba(var(--color-interactive-rgb), var(--opacity-medium)) !important;
	border: var(--border-width-thin) solid rgba(var(--color-interactive-rgb), var(--opacity-medium-high)) !important;
}

:global(html.dark) .btn-outline-primary.glass-button:hover {
        color: var(--color-interactive-on) !important;
        background: var(--color-interactive) !important;
        border-color: var(--color-interactive) !important;
        box-shadow: 0 6px 20px 0 rgba(var(--color-interactive-rgb), var(--opacity-high)) !important;
}

:global(html.dark) .btn-outline-secondary.glass-button {
	color: var(--color-text) !important;
	background: rgba(var(--color-accent-rgb), var(--opacity-medium)) !important;
	border: var(--border-width-thin) solid
		rgba(var(--color-accent-rgb), var(--opacity-medium-high)) !important;
}

:global(html.dark) .btn-outline-secondary.glass-button:hover {
        color: var(--color-interactive-on) !important;
        background: var(--color-accent) !important;
        border-color: var(--color-accent) !important;
        box-shadow: 0 6px 20px 0 rgba(var(--color-accent-rgb), var(--opacity-high)) !important;
}

:global(html.dark) .btn-primary.glass-button {
        color: var(--color-interactive-on) !important;
        background: var(--color-interactive) !important;
        border: var(--border-width-thin) solid var(--color-interactive) !important;
        box-shadow: 0 4px 16px 0 rgba(var(--color-interactive-rgb), var(--opacity-high)) !important;
}

:global(html.dark) .btn-primary.glass-button:hover {
	background: var(--color-interactive-hover) !important;
	border-color: var(--color-interactive-hover) !important;
	box-shadow: 0 6px 20px 0 rgba(var(--color-interactive-rgb), 1) !important;
}

/* Frosted glass effect */
.glass-frosted {
	background: rgba(var(--color-white-rgb), var(--opacity-very-low));
	-webkit-backdrop-filter: blur(20px) saturate(180%);
	backdrop-filter: blur(20px) saturate(180%);
	border: var(--border-width-thin) solid
		rgba(var(--color-white-rgb), var(--glass-surface-opacity));
	box-shadow:
		var(--shadow-lg),
		inset 0 1px 0 rgba(var(--color-white-rgb), var(--glass-border-opacity));
}

:global(html.dark) .glass-frosted {
	background: rgba(var(--color-dark-surface-rgb), var(--glass-surface-opacity));
	border: var(--border-width-thin) solid rgba(var(--color-white-rgb), var(--opacity-very-low));
	box-shadow:
		var(--shadow-lg),
		inset 0 1px 0 rgba(var(--color-white-rgb), var(--glass-inset-opacity-inverse));
}

/* Responsive glass effects */
@media (min-width: 640px) {
	.sm\:glass {
		background: rgba(var(--color-white-rgb), var(--glass-surface-opacity));
		-webkit-backdrop-filter: blur(var(--glass-blur-amount));
		backdrop-filter: blur(var(--glass-blur-amount));
		border: var(--border-width-thin) solid
			rgba(var(--color-white-rgb), var(--glass-border-opacity));
		box-shadow: 0 8px 32px 0 rgba(var(--glass-shadow-color), var(--glass-shadow-strength));
	}

	:global(html.dark) .sm\:glass {
		background: rgba(var(--color-black-rgb), var(--glass-surface-opacity-inverse));
		border: var(--border-width-thin) solid
			rgba(var(--color-white-rgb), var(--glass-border-opacity-inverse));
	}
}

@media (min-width: 768px) {
	.md\:glass {
		background: rgba(var(--color-white-rgb), var(--glass-surface-opacity));
		-webkit-backdrop-filter: blur(var(--glass-blur-amount));
		backdrop-filter: blur(var(--glass-blur-amount));
		border: var(--border-width-thin) solid
			rgba(var(--color-white-rgb), var(--glass-border-opacity));
		box-shadow: 0 8px 32px 0 rgba(var(--glass-shadow-color), var(--glass-shadow-strength));
	}

	:global(html.dark) .md\:glass {
		background: rgba(var(--color-black-rgb), var(--glass-surface-opacity-inverse));
		border: var(--border-width-thin) solid
			rgba(var(--color-white-rgb), var(--glass-border-opacity-inverse));
	}
}

@media (min-width: 1024px) {
	.lg\:glass {
		background: rgba(var(--color-white-rgb), var(--glass-surface-opacity));
		-webkit-backdrop-filter: blur(var(--glass-blur-amount));
		backdrop-filter: blur(var(--glass-blur-amount));
		border: var(--border-width-thin) solid
			rgba(var(--color-white-rgb), var(--glass-border-opacity));
		box-shadow: 0 8px 32px 0 rgba(var(--glass-shadow-color), var(--glass-shadow-strength));
	}

	:global(html.dark) .lg\:glass {
		background: rgba(var(--color-black-rgb), var(--glass-surface-opacity-inverse));
		border: var(--border-width-thin) solid
			rgba(var(--color-white-rgb), var(--glass-border-opacity-inverse));
	}
}

/* Fallback for browsers that don't support backdrop-filter */
@supports not (backdrop-filter: blur(10px)) {
	.glass,
	.glass-light,
	.glass-medium,
	.glass-heavy,
	.glass-card,
	.glass-panel,
	.glass-nav,
	.glass-button,
	.glass-frosted {
		background: rgba(var(--color-white-rgb), var(--glass-opacity-fallback-light));
	}

	:global(html.dark) .glass,
	:global(html.dark) .glass-light,
	:global(html.dark) .glass-medium,
	:global(html.dark) .glass-heavy,
	:global(html.dark) .glass-card,
	:global(html.dark) .glass-panel,
	:global(html.dark) .glass-nav,
	:global(html.dark) .glass-button,
	:global(html.dark) .glass-frosted {
		background: rgba(var(--color-dark-surface-rgb), var(--glass-opacity-fallback-dark));
	}
}

/* Animation utilities for glass effects */
.glass-animate {
	transition: all var(--anim-duration-base) var(--anim-ease-base);
}

.glass-animate-fast {
	transition: all var(--anim-duration-fast) var(--anim-ease-out);
}

.glass-animate-slow {
	transition: all var(--anim-duration-slow) var(--anim-ease-base);
}
