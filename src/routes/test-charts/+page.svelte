<!-- 
ECharts implementations showcase page
-->
<script lang="ts">
    import EChartsBarChart from '$lib/components/visualisations/EChartsBarChart.svelte';
    import SimpleEChartsBarChart from '$lib/components/visualisations/SimpleEChartsBarChart.svelte';

    // Sample data for testing
    const sampleData = [
        { year: 2020, count: 5 },
        { year: 2021, count: 8 },
        { year: 2022, count: 12 },
        { year: 2023, count: 15 },
        { year: 2024, count: 10 }
    ];

    const getYear = (d: typeof sampleData[0]) => d.year;
    const getCount = (d: typeof sampleData[0]) => d.count;
</script>

<div class="showcase-page">
    <h1 class="text-3xl font-bold mb-8">ECharts Showcase</h1>
    
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
        <div class="chart-section">
            <h2 class="text-xl font-semibold mb-4">Standard ECharts Implementation</h2>
            <div class="chart-container bg-white dark:bg-gray-800 p-4 rounded-lg shadow">
                <EChartsBarChart
                    data={sampleData}
                    xAccessor={getYear}
                    yAccessor={getCount}
                    xAxisLabel="Year"
                    yAxisLabel="Publications"
                    barColor="steelblue"
                />
            </div>
            <div class="features mt-4">
                <h3 class="font-medium text-green-600 dark:text-green-400">Features:</h3>
                <ul class="text-sm list-disc list-inside mb-2">
                    <li>Rich built-in interactions (hover, click)</li>
                    <li>Smooth animations and transitions</li>
                    <li>Built-in responsiveness</li>
                    <li>Professional tooltips</li>
                    <li>~100 lines of code (vs 200+ for D3)</li>
                    <li>Automatic theme switching</li>
                </ul>
            </div>
        </div>

        <div class="chart-section">
            <h2 class="text-xl font-semibold mb-4">Ultra-Simple ECharts (svelte-echarts wrapper)</h2>
            <div class="chart-container bg-white dark:bg-gray-800 p-4 rounded-lg shadow">
                <SimpleEChartsBarChart
                    data={sampleData}
                    xAccessor={getYear}
                    yAccessor={getCount}
                    xAxisLabel="Year"
                    yAxisLabel="Publications"
                    barColor="steelblue"
                />
            </div>
            <div class="features mt-4">
                <h3 class="font-medium text-green-600 dark:text-green-400">Features:</h3>
                <ul class="text-sm list-disc list-inside mb-2">
                    <li>Only ~50 lines of code</li>
                    <li>Even simpler implementation</li>
                    <li>Same rich features as standard ECharts</li>
                    <li>Reactive updates</li>
                    <li>Full theming support</li>
                </ul>
            </div>
        </div>
    </div>    <div class="migration-success bg-green-50 dark:bg-green-900/20 p-6 rounded-lg">
        <h3 class="text-lg font-semibold mb-3">âœ… Migration Complete!</h3>
        <p class="mb-3">
            Successfully replaced all D3 visualizations with ECharts. Benefits achieved:
        </p>
        <ul class="list-disc list-inside space-y-1 text-sm">
            <li><strong>75% code reduction:</strong> From ~200 lines to ~50-100 lines per chart</li>
            <li><strong>Better user experience:</strong> Rich animations, zoom, pan, brush selection</li>
            <li><strong>Professional tooltips:</strong> No more custom positioning logic needed</li>
            <li><strong>Built-in responsiveness:</strong> Handles resize automatically</li>
            <li><strong>Consistent theming:</strong> Easy to maintain across all charts</li>
            <li><strong>Extensible:</strong> Easy to add line charts, scatter plots, pie charts, etc.</li>
            <li><strong>Active development:</strong> Regular updates and community support</li>
        </ul>
        <p class="mt-3 text-sm font-medium">
            ðŸŽ‰ Old D3 components and dependencies have been completely removed from the codebase.
        </p>
    </div>
</div>

<style>
    .showcase-page {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
    }
    
    .chart-container {
        height: 350px;
    }
    
    .chart-section {
        border: 1px solid var(--color-border, #e5e7eb);
        border-radius: 0.5rem;
        padding: 1.5rem;
    }
    
    .features {
        border-top: 1px solid var(--color-border, #e5e7eb);
        padding-top: 1rem;
    }
</style>
